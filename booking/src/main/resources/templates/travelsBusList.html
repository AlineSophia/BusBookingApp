<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">

<head>
	<meta charset="UTF-8">
	<title>Bus Booking System</title>
	<link th:href="@{/style.css}" rel="stylesheet" />
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"
					integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	
</head>

<body>
	 <header>
		
		<nav>
					<a th:href="@{/}">Home</a>
		            <a th:href="@{/bus/addBus}">Add Bus</a>
		           <!-- <a th:href="@{/user/payments}">Payment Methods</a>
		            <a th:href="@{/user/bookings}">Booking History</a>-->
					<a th:href="@{/logout}">Logout</a>
		        </nav>
		
	</header>
	<div class="container">
		
				<h1> List Of Buses Available</h1><br>
				<div th:if="${param.updatesuccess}">
					<div class="alert alert-info">
						Bus Details Updated successfully!
					</div>
				</div>					

				<div th:if="${param.deletesuccess}">
					<div class="alert alert-info">
						Deleted successfully!
					</div>
				</div>	
				<div th:if="${param.addsuccess}">
					<div class="alert alert-info">
						Bus Added successfully!
					</div>
				</div>					
				<table class="table table-bordered">
											<tr>
												<th>Travels Name</th>
												<th>From City</th>
												<th>To City</th>
												<!--<th>Date</th>-->
												<th>Start Time</th>
												<th>Arrival Time</th>
												<th>Type</th>
												<th>Price</th>
												<th>Rating</th>
												<th>Available Seats</th>
												<th>Action</th>
											</tr>
											<tr th:each="buses: ${travels}">
												<td th:text="${buses.travelsName}"></td>
												<td th:text="${buses.fromCityName}"></td>
												<td th:text="${buses.toCityName}"></td>
												<!--<td th:text="${date}"></td>-->
												<td th:text="${buses.startTime}"></td>
												<td th:text="${buses.arrivalTime}"></td>
												<td th:text="${buses.type}"></td>
												<td th:text="${buses.price}"></td>
												<td th:text="${buses.rating}"></td>
												<td th:text="${buses.availableSeats}"></td>
												<td>
													<a th:href="@{/bus/updateBus/{id}(id = ${buses.id})}" class="button"
														style="background-color:lightblue;border:none;padding:5px">Update</a>
													<a th:href="@{/bus/deleteBus/{id}(id = ${buses.id})}" class="button"
														style="background-color:red;border:none;padding:5px">Delete</a>
												</td>
											</tr>
									</table>							 
			</div>

</body>

</html>